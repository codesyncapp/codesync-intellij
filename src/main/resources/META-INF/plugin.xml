<!-- Copyright 2000-2020 JetBrains s.r.o. and other contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file. -->

<idea-plugin require-restart="true">

  <!-- Unique id for this plugin. Must stay constant for the life of the plugin. -->
  <id>com.codesync</id>

  <!-- Text to display as name on Preferences/Settings | Plugin page -->
  <name>CodeSync</name>

  <!-- Product and plugin compatibility requirements -->
  <depends>com.intellij.modules.platform</depends>

  <!-- Text to display as description on Preferences/Settings | Plugin page -->
  <description><![CDATA[
    <p>Stream your code in real-time to the cloud, allowing you to review the entire history of the codebase on <a href="https://www.codesync.com">codesync.com</a>.</p>

    <ul>
      <li><span><b>Coding Performance: </b></span><span>Track your performance every day. What did you actually write today?</span></li>
      <li><span><b>Team Collaboration: </b></span><span>Don't wait for the Pull Request. Align with your team on changes as they happen. </span></li>
      <li><span><b>Never Lose Code Again: </b></span><span>All code changes are saved. "Rewind" to see all history.</span></li>
      <li><span><b>Social Coding: </b></span><span>Watch developers around the world as they code, in real time.</span></li>
    </ul>
    <br/>
    <b>Getting Started</b>
    <ol>
      <li>Install the CodeSync plugin</li>
      <li>The plugin will guide you to log in or sign up, and connect your repo</li>
      <li>Visit to <a href="https://www.codesync.com">codesync.com</a> to view your playback, or your team\'s changes!</li>
    </ol>
    <br/>
    <p><b>Content View (Replaying your changes)</b></p>
    <img src="https://codesync-images.s3.amazonaws.com/playback-dark-theme.gif" alt="Demo of repo playback"/>
    ]]>
    </description>

  <change-notes><![CDATA[
    <h2>New Features</h2>
      <ul>
        <li>Replaced Activity Alert Dialog with a Notification Balloon which is non-blocking.</li>
      </ul>
    <h2>Bug Fixes</h2>
      <ul>
        <li>Fixed repeated activity alert being shown to some users.</li>
        <li>Fixed populateBuffer issue for unopened synced project with new branch.</li>
      </ul>
    ]]>
  </change-notes>

  <!-- Text to display as company information on Preferences/Settings | Plugin page -->
  <vendor email="hello@codesync.com" url="https://www.codesync.com">CodeSync</vendor>

  <projectListeners>
    <listener class="org.intellij.sdk.codesync.ProjectOpenCloseListener"
              topic="com.intellij.openapi.project.ProjectManagerListener"/>
  </projectListeners>
  <actions>
    <group id="org.intellij.sdk.action.GroupedActions" text="CodeSync" popup="true" icon="CodeSyncIcons.codeSyncIcon">
      <add-to-group group-id="MainMenu" anchor="after" relative-to-action="ToolsMenu"/>
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>


<!--      TODO: remove this if we decide to never use this action. -->
<!--      <action id="org.intellij.sdk.codesync.auth.LogoutAction" class="org.intellij.sdk.codesync.auth.LogoutAction"-->
<!--              text="Use Different Account" description="Use a different account for codesync authentication."-->
<!--      >-->
<!--      </action>-->
      <action id="org.intellij.sdk.codesync.actions.FilePlaybackAction"
              class="org.intellij.sdk.codesync.actions.FilePlaybackAction" text="View File Playback..."
              description="View file playback">
      </action>
      <action id="org.intellij.sdk.codesync.actions.RepoPlaybackAction"
              class="org.intellij.sdk.codesync.actions.RepoPlaybackAction" text="View Repo Playback..."
              description="View repo playback">
      </action>
      <action id="org.intellij.sdk.codesync.actions.ViewDashboardAction" class="org.intellij.sdk.codesync.actions.ViewDashboardAction"
              text="View Dashboard" description="View CodeSync dashboard">
      </action>
      <action id="org.intellij.sdk.codesync.codeSyncSetup.CodeSyncSetupAction" class="org.intellij.sdk.codesync.codeSyncSetup.CodeSyncSetupAction"
              text="Connect Repo" description="Connect repo with codeSync">
      </action>
      <action id="org.intellij.sdk.codesync.auth.AuthAction" class="org.intellij.sdk.codesync.auth.AuthAction"
              text="Login" description="Authentication setup">
      </action>

    </group>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <notificationGroup icon="CodeSyncIcons.codeSyncIcon" id="CodeSync Notifications" displayType="BALLOON" key="codesync.notification"/>
    <notificationGroup icon="CodeSyncIcons.codeSyncIcon" id="CodeSync Daily Digest" displayType="STICKY_BALLOON" key="codesync.notification"/>
  </extensions>
</idea-plugin>
